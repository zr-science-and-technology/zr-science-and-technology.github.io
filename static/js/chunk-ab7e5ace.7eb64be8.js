(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab7e5ace"],{2166:function(e,t,a){"use strict";var n=a("c5bb"),r=a.n(n);r.a},"2ac8":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("b775");function r(e){return Object(n["a"])({url:"/vue-admin-template/question/detail",method:"get",data:e})}},"67e5":function(e,t,a){"use strict";var n=a("8efa"),r=a.n(n);r.a},8265:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"member-mgmt"},[a("flex-table",{attrs:{operations:e.operations,filters:e.filters,loading:e.listLoading,"table-data":e.list,pagination:e.pagination},on:{operate:e.operate}},[a("el-table-column",{attrs:{label:"用户名称",prop:"title"}}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"创建日期",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",[e._v(e._s(t.row.display_time))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.open(t.row.id)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return a.stopPropagation(),e.remove(t.row.id)}}},[e._v("删除")])]}}])})],1),a("drawer",{attrs:{show:e.showDrawer,mode:"tab"},on:{"update:show":e.handleUpdateShowDrawer},model:{value:e.curTabName,callback:function(t){e.curTabName=t},expression:"curTabName"}},[a("el-tab-pane",{attrs:{lazy:"",label:"基本信息",name:"first"}},[a("member-base-info",{attrs:{id:e.itemId}})],1)],1)],1)},r=[],o=a("ad8f"),i=a("11d7"),l=a("ca50"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flex-frame",{staticClass:"member-base-info"},[a("div",{staticClass:"operation-wrapper",attrs:{slot:"header"},slot:"header"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v("保存")])],1),a("el-form",{ref:"form",staticClass:"base-info-body",attrs:{size:"small","label-width":"100px",model:e.formModel,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.formModel.userName,callback:function(t){e.$set(e.formModel,"userName",t)},expression:"formModel.userName"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.formModel.mobile,callback:function(t){e.$set(e.formModel,"mobile",t)},expression:"formModel.mobile"}})],1),a("el-form-item",{attrs:{label:"微信openId",prop:"wechatOpenId"}},[a("el-input",{attrs:{placeholder:"请输入微信openId"},model:{value:e.formModel.wechatOpenId,callback:function(t){e.$set(e.formModel,"wechatOpenId",t)},expression:"formModel.wechatOpenId"}})],1),a("el-form-item",{attrs:{label:"题库绑定",prop:"questionListId"}},[a("el-select",{attrs:{placeholder:"请选择题库名称"},model:{value:e.formModel.questionListId,callback:function(t){e.$set(e.formModel,"questionListId",t)},expression:"formModel.questionListId"}},e._l(e.questionList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"截止日期",prop:"endDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择截止日期"},model:{value:e.formModel.endDate,callback:function(t){e.$set(e.formModel,"endDate",t)},expression:"formModel.endDate"}})],1)],1)],1)},u=[],c=a("2ac8"),d=a("56ef7"),f={name:"MemberBaseInfo",components:{FlexFrame:d["a"]},props:{id:{type:Object,default:function(){return{id:""}}}},data:function(){return{formModel:{userName:"",mobile:"",wechatOpenId:"",questionListId:"",endDate:""},rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}],wechatOpenId:[{required:!0,message:"请输入微信openId",trigger:"blur"}],questionListId:[{required:!0,message:"请选择题库名称",trigger:"blur"}],endDate:[{required:!0,message:"请选择截止日期",trigger:"blur"}]},questionList:[]}},computed:{isCreate:function(){return!this.id.id}},watch:{id:{handler:function(e){this.$refs["form"]&&this.$refs["form"].clearValidate(),e.id&&this.getBaseInfo()},immediate:!0},"formModel.type":function(e){"trueorfalse"===e&&(this.formModel.selections=[{content:"正确",isTrue:!0},{content:"错误",isTrue:!1}])}},created:function(){this.getQuestionList()},mounted:function(){},methods:{onSubmit:function(){this.validateForm()&&(this.isCreate&&this.create(),this.save())},validateForm:function(){this.$refs["form"].validate((function(e){return!!e}))},create:function(){},save:function(){},getBaseInfo:function(){var e=this;Object(c["a"])().then((function(t){e.formModel=t.data})).catch()},getQuestionList:function(){var e=this;Object(o["a"])().then((function(t){e.questionList=t.data.list}))}}},m=f,p=(a("67e5"),a("2877")),b=Object(p["a"])(m,s,u,!1,null,"6b07712d",null),h=b.exports,w={components:{FlexTable:i["a"],Drawer:l["a"],MemberBaseInfo:h},data:function(){return{itemId:{id:""},list:null,listLoading:!0,showDrawer:!1,curTabName:"first",operations:[{label:"新建",name:"create",type:"primary"},{label:"刷新",name:"refresh",type:"primary"}],filters:[{type:"input",label:"",placeholder:"请输入用户名称",name:"searchValue",value:""}],pagination:{pageSize:20,currentPage:1,total:0}}},computed:{},watch:{},created:function(){this.fetchData()},mounted:function(){},methods:{operate:function(e){this[e]()},create:function(){this.itemId={id:""},this.showDrawer=!0},refresh:function(){this.fetchData()},open:function(e){this.itemId={id:e},this.showDrawer=!0},remove:function(e){},fetchData:function(){var e=this;this.listLoading=!0,Object(o["a"])().then((function(t){e.list=t.data.list,e.pagination.total=t.data.total,e.listLoading=!1}))},handleUpdateShowDrawer:function(e){this.curTabName="first",this.showDrawer=e}}},v=w,g=(a("2166"),Object(p["a"])(v,n,r,!1,null,"615df3d0",null));t["default"]=g.exports},"8efa":function(e,t,a){},ad8f:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("b775");function r(e){return Object(n["a"])({url:"/vue-admin-template/questionBank/list",method:"get",params:e})}},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function r(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==a["return"]||a["return"]()}finally{if(s)throw i}}}}},c5bb:function(e,t,a){}}]);