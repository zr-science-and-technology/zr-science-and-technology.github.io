(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b8b1218"],{1148:function(e,t,n){"use strict";var i=n("a691"),o=n("1d80");e.exports="".repeat||function(e){var t=String(o(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"2ac8":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("b775");function o(e){return Object(i["a"])({url:"/vue-admin-template/question/detail",method:"get",data:e})}},3043:function(e,t,n){"use strict";var i=n("7ca9"),o=n.n(i);o.a},"408a":function(e,t,n){var i=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=i(e))throw TypeError("Incorrect invocation");return+e}},"500f":function(e,t,n){"use strict";var i=n("70f9"),o=n.n(i);o.a},"65e6":function(e,t,n){},"70f9":function(e,t,n){},"7ca9":function(e,t,n){},a434:function(e,t,n){"use strict";var i=n("23e7"),o=n("23cb"),a=n("a691"),r=n("50c4"),l=n("7b0b"),s=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,i,u,d,f,p,v=l(this),y=r(v.length),w=o(e,y),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=y-w):(n=x-2,i=m(h(a(t),0),y-w)),y+n-i>b)throw TypeError(g);for(u=s(v,i),d=0;d<i;d++)f=w+d,f in v&&c(u,d,v[f]);if(u.length=i,n<i){for(d=w;d<y-i;d++)f=d+i,p=d+n,f in v?v[p]=v[f]:delete v[p];for(d=y;d>y-i+n;d--)delete v[d-1]}else if(n>i)for(d=y-i;d>w;d--)f=d+i-1,p=d+n-1,f in v?v[p]=v[f]:delete v[p];for(d=0;d<n;d++)v[d+w]=arguments[d+2];return v.length=y-i+n,u}})},a9e3:function(e,t,n){"use strict";var i=n("83ab"),o=n("da84"),a=n("94ca"),r=n("6eeb"),l=n("5135"),s=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,h=n("06cf").f,m=n("9bf2").f,b=n("58a8").trim,g="Number",v=o[g],y=v.prototype,w=s(f(y))==g,x=function(e){var t,n,i,o,a,r,l,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+c}for(a=c.slice(2),r=a.length,l=0;l<r;l++)if(s=a.charCodeAt(l),s<48||s>o)return NaN;return parseInt(a,i)}return+c};if(a(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,_=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof _&&(w?d((function(){y.valueOf.call(n)})):s(n)!=g)?c(new v(x(t)),n,_):x(t)},C=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;C.length>k;k++)l(v,I=C[k])&&!l(_,I)&&m(_,I,h(v,I));_.prototype=y,y.constructor=_,r(o,g,_)}},ad8f:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("b775");function o(e){return Object(i["a"])({url:"/vue-admin-template/questionBank/list",method:"get",params:e})}},b680:function(e,t,n){"use strict";var i=n("23e7"),o=n("a691"),a=n("408a"),r=n("1148"),l=n("d039"),s=1..toFixed,c=Math.floor,u=function(e,t,n){return 0===t?n:t%2===1?u(e,t-1,n*e):u(e*e,t/2,n)},d=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));i({target:"Number",proto:!0,forced:f},{toFixed:function(e){var t,n,i,l,s=a(this),f=o(e),p=[0,0,0,0,0,0],h="",m="0",b=function(e,t){var n=-1,i=t;while(++n<6)i+=e*p[n],p[n]=i%1e7,i=c(i/1e7)},g=function(e){var t=6,n=0;while(--t>=0)n+=p[t],p[t]=c(n/e),n=n%e*1e7},v=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var n=String(p[e]);t=""===t?n:t+r.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(h="-",s=-s),s>1e-21)if(t=d(s*u(2,69,1))-69,n=t<0?s*u(2,-t,1):s/u(2,t,1),n*=4503599627370496,t=52-t,t>0){b(0,n),i=f;while(i>=7)b(1e7,0),i-=7;b(u(10,i,1),0),i=t-1;while(i>=23)g(1<<23),i-=23;g(1<<i),b(1,1),g(2),m=v()}else b(0,n),b(1<<-t,0),m=v()+r.call("0",f);return f>0?(l=m.length,m=h+(l<=f?"0."+r.call("0",f-l)+m:m.slice(0,l-f)+"."+m.slice(l-f))):m=h+m,m}})},b85c:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");var i=n("06c5");function o(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(i["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==n["return"]||n["return"]()}finally{if(s)throw r}}}}},c740:function(e,t,n){"use strict";var i=n("23e7"),o=n("b727").findIndex,a=n("44d2"),r=n("ae40"),l="findIndex",s=!0,c=r(l);l in[]&&Array(1)[l]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},ef38:function(e,t,n){"use strict";var i=n("65e6"),o=n.n(i);o.a},fd5b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question-list-mgmt"},[n("flex-table",{attrs:{operations:e.operations,filters:e.filters,loading:e.listLoading,"table-data":e.list,pagination:e.pagination},on:{operate:e.operate}},[n("el-table-column",{attrs:{label:"问题题目",prop:"title"}}),n("el-table-column",{attrs:{align:"center",label:"问题类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getType(t.$index%3))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"创建日期",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-time"}),n("span",[e._v(e._s(t.row.display_time))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.open(t.row.id)}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.remove(t.row.id)}}},[e._v("删除")])]}}])})],1),n("drawer",{attrs:{show:e.showDrawer,mode:"tab"},on:{"update:show":e.handleUpdateShowDrawer},model:{value:e.curTabName,callback:function(t){e.curTabName=t},expression:"curTabName"}},[n("el-tab-pane",{attrs:{lazy:"",label:"基本信息",name:"first"}},[n("question-base-info",{attrs:{id:e.itemId}})],1)],1),n("el-upload",{ref:"upload",staticClass:"question-upload",attrs:{action:"https://jsonplaceholder.typicode.com/posts/",limit:1,"show-file-list":!1,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"on-progress":e.handleUploadProgress}}),n("el-dialog",{attrs:{visible:!!e.uploadPercentage,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1}},[n("el-progress",{attrs:{percentage:e.uploadPercentage}})],1)],1)},o=[],a=(n("a9e3"),n("b680"),n("ad8f")),r=n("11d7"),l=n("ca50"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flex-frame",{staticClass:"question-base-info"},[n("div",{staticClass:"operation-wrapper",attrs:{slot:"header"},slot:"header"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onSubmit}},[e._v("保存")])],1),n("el-form",{ref:"form",staticClass:"base-info-body",attrs:{size:"small","label-width":"80px",model:e.formModel,rules:e.rules}},[n("el-form-item",{attrs:{label:"题目类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择题目类型"},model:{value:e.formModel.type,callback:function(t){e.$set(e.formModel,"type",t)},expression:"formModel.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"问题描述",prop:"desc"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},placeholder:"请输入问题描述"},model:{value:e.formModel.desc,callback:function(t){e.$set(e.formModel,"desc",t)},expression:"formModel.desc"}})],1),n("el-form-item",{attrs:{label:"问题选项",prop:"selections"}},[n("question-selection",{attrs:{type:e.formModel.type},model:{value:e.formModel.selections,callback:function(t){e.$set(e.formModel,"selections",t)},expression:"formModel.selections"}})],1)],1)],1)},c=[],u=(n("c740"),n("2ac8")),d=n("56ef7"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question-selection"},["single"===e.type||"trueorfalse"===e.type?n("el-radio-group",{attrs:{value:e.radioGroupValue},on:{input:e.handleRadioChange}},e._l(e.selectionItemList,(function(t,i){return n("el-radio",{key:i,staticClass:"selection-item",attrs:{border:"",label:i}},[n("div",{staticClass:"radio-content"},[n("div",{staticClass:"selection-prepend"},[n("span",{staticClass:"selection-index"},[e._v(e._s(e._f("indexToLetter")(i)))])]),n("div",{staticClass:"selection-content"},[e.editSelection===i?n("el-input",{attrs:{value:t.content,type:"textarea",autosize:{minRows:1,maxRows:5}},on:{input:function(t){return e.handleContentChange(i,t)}}}):n("span",[e._v(e._s(t.content))])],1),"trueorfalse"!==e.type?n("div",{staticClass:"selection-append"},[e.editSelection!==i?n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){e.editSelection=i}}}):e._e(),e.editSelection===i?n("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(t){e.editSelection=null}}}):e._e(),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.remove(i)}}})],1):e._e()])])})),1):e._e(),"multi"===e.type?n("el-checkbox-group",{attrs:{value:e.checkBoxGroupValue},on:{input:e.handleCheckboxChange}},e._l(e.selectionItemList,(function(t,i){return n("div",{key:i,staticClass:"selection-item"},[n("div",{staticClass:"selection-prepend"},[n("el-checkbox",{attrs:{label:i}},[e._v(e._s(""))]),n("span",{staticClass:"selection-index"},[e._v(e._s(e._f("indexToLetter")(i)))])],1),n("div",{staticClass:"selection-content"},[e.editSelection===i?n("el-input",{attrs:{value:t.content,type:"textarea",autosize:{minRows:1,maxRows:5}},on:{input:function(t){return e.handleContentChange(i,t)}}}):n("span",[e._v(e._s(t.content))])],1),n("div",{staticClass:"selection-append"},[e.editSelection!==i?n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){e.editSelection=i}}}):e._e(),e.editSelection===i?n("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(t){e.editSelection=null}}}):e._e(),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""}})],1)])})),0):e._e(),e.showAddItem?n("div",{staticClass:"add-item selection-item",on:{click:e.addItem}},[n("i",{staticClass:"el-icon-plus"})]):e._e()],1)},p=[],h=(n("4160"),n("caad"),n("d81d"),n("a434"),n("2532"),n("159b"),{name:"QuestionSeletion",filters:{indexToLetter:function(e){return"ABCDEFGHIJKLMN"[e]}},components:{},props:{type:{type:String,default:"single"},value:{type:Array,default:function(){return[]}}},data:function(){return{editSelection:null,radioGroupValue:0,checkBoxGroupValue:[0],selectionItemList:[]}},computed:{showAddItem:function(){return!("trueorfalse"===this.type)},maxSelection:function(){var e={single:1,multi:this.selectionItemList.length,trueorfalse:1};return e[this.type]}},watch:{value:{handler:function(e){var t=this;console.log("watch-value: ",this.type),"single"===this.type||"trueorfalse"===this.type?-1===e.findIndex((function(e){return e.isTrue}))?(this.radioGroupValue=0,this.handleRadioChange(this.radioGroupValue)):this.radioGroupValue=e.findIndex((function(e){return e.isTrue})):(this.checkBoxGroupValue=[],e.forEach((function(e,n){e.isTrue&&t.checkBoxGroupValue.push(n)}))),this.selectionItemList=e},immediate:!0},type:{handler:function(e){"multi"!==e||this.checkBoxGroupValue.length?"sigle"===e&&(this.radioGroupValue=this.radioGroupValue||0):this.checkBoxGroupValue=[0]},immediate:!0}},mounted:function(){},methods:{addItem:function(){this.selectionItemList.push({content:"",isTrue:!1})},remove:function(e){this.selectionItemList.length<2||(this.selectionItemList.splice(e,1),this.handleContentChange())},handleContentChange:function(e,t){var n=this.selectionItemList.map((function(n,i){return{content:i===e?t:n.content,isTrue:n.isTrue}}));this.$emit("input",n)},handleRadioChange:function(e){this.radioGroupValue!==e&&(this.radioGroupValue=e,this.selectionItemList.forEach((function(t,n){t.isTrue=n===e})),this.handleContentChange())},handleCheckboxChange:function(e){console.log("handle-checkbox-change: ",e),this.checkBoxGroupValue=e,this.selectionItemList.forEach((function(t,n){e.includes(n)?t.isTrue=!0:t.isTrue=!1})),this.handleContentChange()}}}),m=h,b=(n("3043"),n("2877")),g=Object(b["a"])(m,f,p,!1,null,null,null),v=g.exports,y={name:"QuestionBaseInfo",components:{FlexFrame:d["a"],QuestionSelection:v},props:{id:{type:Object,default:function(){return{id:""}}}},data:function(){var e=function(e,t,n){console.log("validate selections: ",t);var i=t.findIndex((function(e){return e.isTrue}))>-1,o=-1===t.findIndex((function(e){return!e.content}));i?o||n(new Error("不能有没有内容的选项")):n(new Error("请选择至少一项正确答案")),n()};return{formModel:{type:"single",selections:[]},rules:{content:[{required:!0,message:"请输入问题描述",trigger:"blur"}],selections:[{validator:e,trigger:"blur"}]},typeOptions:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"判断题",value:"trueorfalse"}]}},computed:{isCreate:function(){return!this.id.id}},watch:{id:{handler:function(e){this.$refs["form"]&&this.$refs["form"].clearValidate(),e.id&&this.getBaseInfo()},immediate:!0},"formModel.type":function(e){"trueorfalse"===e&&(this.formModel.selections=[{content:"正确",isTrue:!0},{content:"错误",isTrue:!1}])}},mounted:function(){},methods:{onSubmit:function(){this.validateForm()&&(this.isCreate&&this.create(),this.save())},validateForm:function(){this.$refs["form"].validate((function(e){return!!e}))},create:function(){},save:function(){},getBaseInfo:function(){var e=this;Object(u["a"])().then((function(t){e.formModel=t.data})).catch()}}},w=y,x=(n("500f"),Object(b["a"])(w,s,c,!1,null,"286ec57a",null)),I=x.exports,_={components:{FlexTable:r["a"],Drawer:l["a"],QuestionBaseInfo:I},data:function(){return{itemId:{id:""},list:null,listLoading:!0,showDrawer:!1,curTabName:"first",uploadPercentage:0,operations:[{label:"新建",name:"create",type:"primary"},{label:"刷新",name:"refresh",type:"primary"},{label:"导入",name:"import",type:"primary"}],filters:[{type:"select",label:"题目类型",name:"type",options:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"判断题",value:"trueorfalse"}],value:"single"},{type:"daterange",label:"创建日期",name:"createDate",value:[]},{type:"input",label:"",placeholder:"请输入题库名称",name:"searchValue",value:""}],pagination:{pageSize:20,currentPage:1,total:0}}},computed:{},watch:{},created:function(){this.fetchData()},mounted:function(){},methods:{getType:function(e){return["单选题","多选题","判断题"][e]},operate:function(e){this[e]()},create:function(){this.itemId={id:""},this.showDrawer=!0},refresh:function(){this.fetchData()},import:function(){var e=document.querySelector(".question-upload .el-upload");e.click()},open:function(e){this.itemId={id:e},this.showDrawer=!0},remove:function(e){},handleUpdateShowDrawer:function(e){this.curTabName="first",this.showDrawer=e},fetchData:function(){var e=this;this.listLoading=!0,Object(a["a"])().then((function(t){e.list=t.data.list,e.pagination.total=t.data.total,e.listLoading=!1}))},handleUploadSuccess:function(e,t,n){console.log("upload-success: ",e,t,n),this.uploadPercentage=0,this.showMessage("上传成功","success"),this.fetchData()},handleUploadError:function(e,t,n){console.log("upload-error: ",e,t,n),this.uploadPercentage=0,this.showMessage("上传失败","warning")},handleUploadProgress:function(e,t,n){this.uploadPercentage=Number(Number(t.percentage).toFixed(2))},showMessage:function(e,t){this.$message({message:e,type:t})}}},C=_,k=(n("ef38"),Object(b["a"])(C,i,o,!1,null,null,null));t["default"]=k.exports}}]);