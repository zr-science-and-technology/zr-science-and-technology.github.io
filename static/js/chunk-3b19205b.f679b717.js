(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b19205b"],{"0aae":function(e,t,n){"use strict";var i=n("493e"),a=n.n(i);a.a},1005:function(e,t,n){},3043:function(e,t,n){"use strict";var i=n("7ca9"),a=n.n(i);a.a},"3a24":function(e,t,n){"use strict";var i=n("7a57"),a=n.n(i);a.a},"493e":function(e,t,n){},"5d10":function(e,t,n){},"63e3":function(e,t,n){"use strict";var i=n("1005"),a=n.n(i);a.a},7173:function(e,t,n){"use strict";var i=n("5d10"),a=n.n(i);a.a},"7a57":function(e,t,n){},"7ca9":function(e,t,n){},a434:function(e,t,n){"use strict";var i=n("23e7"),a=n("23cb"),o=n("a691"),s=n("50c4"),l=n("7b0b"),r=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,i,u,d,f,p,y=l(this),g=s(y.length),x=a(e,g),_=arguments.length;if(0===_?n=i=0:1===_?(n=0,i=g-x):(n=_-2,i=h(m(o(t),0),g-x)),g+n-i>b)throw TypeError(v);for(u=r(y,i),d=0;d<i;d++)f=x+d,f in y&&c(u,d,y[f]);if(u.length=i,n<i){for(d=x;d<g-i;d++)f=d+i,p=d+n,f in y?y[p]=y[f]:delete y[p];for(d=g;d>g-i+n;d--)delete y[d-1]}else if(n>i)for(d=g-i;d>x;d--)f=d+i-1,p=d+n-1,f in y?y[p]=y[f]:delete y[p];for(d=0;d<n;d++)y[d+x]=arguments[d+2];return y.length=g-i+n,u}})},c740:function(e,t,n){"use strict";var i=n("23e7"),a=n("b727").findIndex,o=n("44d2"),s=n("ae40"),l="findIndex",r=!0,c=s(l);l in[]&&Array(1)[l]((function(){r=!1})),i({target:"Array",proto:!0,forced:r||!c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(l)},fd5b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question-list-mgmt"},[n("flex-table",{attrs:{operations:e.operations,filters:e.filters,loading:e.listLoading,"table-data":e.list,pagination:e.pagination},on:{operate:e.operate}},[n("el-table-column",{attrs:{label:"问题题目",prop:"title"}}),n("el-table-column",{attrs:{align:"center",label:"问题类型",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getType(t.$index%3))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"创建日期",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-time"}),n("span",[e._v(e._s(t.row.display_time))])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){t.stopPropagation(),e.showDrawer=!0}}},[e._v("查看")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return n.stopPropagation(),e.remove(t.row.id)}}},[e._v("删除")])]}}])})],1),n("drawer",{attrs:{show:e.showDrawer,mode:"tab"},on:{"update:show":e.handleUpdateShowDrawer},model:{value:e.curTabName,callback:function(t){e.curTabName=t},expression:"curTabName"}},[n("el-tab-pane",{attrs:{lazy:"",label:"基本信息",name:"first"}},[n("question-base-info")],1)],1)],1)},a=[],o=n("ad8f"),s=n("11d7"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-drawer",{staticClass:"drawer",attrs:{"before-close":e.handleClose,"show-close":!1,size:"500px",visible:e.show,"with-header":!1},on:{"update:visible":e.handleUpdateVisible}},["tab"===e.mode?n("el-tabs",{attrs:{type:"border-card",value:e.value},on:{"tab-click":e.tabClick}},[e._t("default")],2):e._t("default")],2)},r=[],c=(n("b0c0"),{name:"Drawer",components:{},props:{value:{type:String,required:!0},show:{type:Boolean,default:!1},mode:{type:String,default:""}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{handleUpdateVisible:function(e){this.$emit("update:show",e)},handleClose:function(e){this.$listeners["before-close"]?this.$emit("before-close",e):e()},tabClick:function(e){this.$emit("input",e.name)}}}),u=c,d=(n("63e3"),n("2877")),f=Object(d["a"])(u,l,r,!1,null,null,null),p=f.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flex-frame",{staticClass:"question-base-info"},[n("div",{staticClass:"operation-wrapper",attrs:{slot:"header"},slot:"header"},[n("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("保存")])],1),n("el-form",{ref:"form",staticClass:"base-info-body",attrs:{size:"small","label-width":"80px",model:e.formModel,rules:e.rules}},[n("el-form-item",{attrs:{label:"题目类型",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择题目类型"},model:{value:e.formModel.type,callback:function(t){e.$set(e.formModel,"type",t)},expression:"formModel.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"问题描述",prop:"content"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},placeholder:"请输入问题描述"},model:{value:e.formModel.content,callback:function(t){e.$set(e.formModel,"content",t)},expression:"formModel.content"}})],1),n("el-form-item",{attrs:{label:"问题选项"}},[n("question-selection",{attrs:{type:e.formModel.type},model:{value:e.formModel.questionItems,callback:function(t){e.$set(e.formModel,"questionItems",t)},expression:"formModel.questionItems"}})],1)],1)],1)},h=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-frame"},[e.$slots.header?n("div",{staticClass:"flex-frame__header"},[e._t("header")],2):e._e(),n("div",{staticClass:"flex-frame__content"},[e._t("default")],2),e.$slots.footer?n("div",{staticClass:"flex-frame__footer"},[e._t("footer")],2):e._e()])},v=[],y={name:"FlexFrame"},g=y,x=(n("7173"),Object(d["a"])(g,b,v,!1,null,"ef874c2c",null)),_=x.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"question-selection"},["single"===e.type||"trueorfalse"===e.type?n("el-radio-group",{model:{value:e.radioGroupValue,callback:function(t){e.radioGroupValue=t},expression:"radioGroupValue"}},e._l(e.selectionItemList,(function(t,i){return n("el-radio",{key:i,staticClass:"selection-item",attrs:{border:"",label:i}},[n("div",{staticClass:"radio-content"},[n("div",{staticClass:"selection-prepend"},[n("span",{staticClass:"selection-index"},[e._v(e._s(e._f("indexToLetter")(i)))])]),n("div",{staticClass:"selection-content"},[t.isEdit?n("el-input",{attrs:{value:t.content,type:"textarea",autosize:{minRows:1,maxRows:5}},on:{input:function(t){return e.handleContentChange(i,t)}}}):n("span",[e._v(e._s(t.content))])],1),n("div",{staticClass:"selection-append"},[t.isEdit?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){t.isEdit=!0}}}),t.isEdit?n("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(e){t.isEdit=!1}}}):e._e(),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.remove(i)}}})],1)])])})),1):e._e(),"multi"===e.type?n("el-checkbox-group",{model:{value:e.checkBoxGroupValue,callback:function(t){e.checkBoxGroupValue=t},expression:"checkBoxGroupValue"}},e._l(e.selectionItemList,(function(t,i){return n("div",{key:i,staticClass:"selection-item"},[n("div",{staticClass:"selection-prepend"},[n("el-checkbox",{attrs:{label:i}},[e._v(e._s(""))]),n("span",{staticClass:"selection-index"},[e._v(e._s(e._f("indexToLetter")(i)))])],1),n("div",{staticClass:"selection-content"},[t.isEdit?n("el-input",{attrs:{value:t.content},on:{input:function(t){return e.handleContentChange(i,t)}}}):n("span",[e._v(e._s(t.content))])],1),n("div",{staticClass:"selection-append"},[t.isEdit?e._e():n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){t.isEdit=!0}}}),t.isEdit?n("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""},on:{click:function(e){t.isEdit=!1}}}):e._e(),n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""}})],1)])})),0):e._e(),e.showAddItem?n("div",{staticClass:"add-item selection-item",on:{click:e.addItem}},[n("i",{staticClass:"el-icon-plus"})]):e._e()],1)},k=[],C=(n("4de4"),n("c740"),n("4160"),n("caad"),n("d81d"),n("fb6a"),n("a434"),n("2532"),n("159b"),{name:"QuestionSeletion",filters:{indexToLetter:function(e){return"ABCDEFGHIJKLMN"[e]}},components:{},props:{type:{type:String,default:"single"},value:{type:Array,default:function(){return[]}}},data:function(){return{radioGroupValue:0,checkBoxGroupValue:[0],selectionItemList:[]}},computed:{showAddItem:function(){return!("trueorfalse"===this.type)},maxSelection:function(){var e={single:1,multi:this.selectionItemList.length,trueorfalse:1};return e[this.type]}},watch:{type:function(e){switch(e){case"single":case"trueorfalse":this.radioGroupValue=this.value.findIndex((function(e){return e.isTrue})),this.checkBoxGroupValue=[this.radioGroupValue];break;case"multi":this.checkBoxGroupValue=this.value.filter((function(e){return e.isTrue})).map((function(e,t){return t})),this.radioGroupValue=this.checkBoxGroupValue[0];break}},value:{handler:function(e){var t=this;this.id?"single"===this.type||"trueorfalse"===this.type?this.radioGroupValue=void 0===e.findIndex((function(e){return e.isTrue}))?e.findIndex((function(e){return e.isTrue})):0:this.checkBoxGroupValue=e.filter((function(e){return e.isTrue})):(this.radioGroupValue=0,this.checkBoxGroupValue=[0]);var n="single"===this.type?[this.radioGroupValue]:this.checkBoxGroupValue;this.selectionItemList=e.slice(0).map((function(e,i){return Object.assign({},e,{isEdit:!!t.selectionItemList[i]&&t.selectionItemList[i].isEdit,isTrue:n.includes(i)})}))},immediate:!0},radioGroupValue:function(e){"single"!==this.type&&"trueorfalse"!==this.type||(this.selectionItemList.forEach((function(t,n){t.isTrue=n===e})),this.handleContentChange())},checkBoxGroupValue:function(e){"multi"===this.type&&(this.selectionItemList.forEach((function(t,n){t.isTrue=e.includes(n)})),this.handleContentChange())}},mounted:function(){},methods:{addItem:function(){this.selectionItemList.push({content:"",isEdit:!1,isTrue:!1})},remove:function(e){this.selectionItemList.length<2||(this.selectionItemList.splice(e,1),this.handleContentChange())},handleContentChange:function(e,t){var n=this.selectionItemList.map((function(n,i){return{content:i===e?t:n.content,isTrue:n.isTrue}}));this.$emit("input",n)}}}),I=C,T=(n("3043"),Object(d["a"])(I,w,k,!1,null,null,null)),V=T.exports,E={name:"QuestionBaseInfo",components:{FlexFrame:_,QuestionSelection:V},data:function(){return{formModel:{type:"multi",questionItems:[{content:"今天是星期一",isTrue:!1},{content:"今天是星期二",isTrue:!1},{content:"今天是星期三",isTrue:!0},{content:"今天是星期四",isTrue:!1},{content:"今天是星期五",isTrue:!1}]},rules:{},typeOptions:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"判断题",value:"trueorfalse"}]}},computed:{},watch:{"formModel.type":function(e){"trueorfalse"===e&&(this.formModel.questionItems=[{content:"正确",isTrue:!0},{content:"错误",isTrue:!1}])}},mounted:function(){},methods:{}},G=E,L=(n("3a24"),Object(d["a"])(G,m,h,!1,null,"4b6e9c52",null)),M=L.exports,$={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},components:{FlexTable:s["a"],Drawer:p,QuestionBaseInfo:M},data:function(){return{list:null,listLoading:!0,showDrawer:!1,curTabName:"first",operations:[{label:"新建",name:"create",type:"primary"},{label:"刷新",name:"refresh",type:"primary"},{label:"导入",name:"import",type:"primary"}],filters:[{type:"select",label:"题目类型",name:"type",options:[{label:"单选题",value:"single"},{label:"多选题",value:"multi"},{label:"判断题",value:"trueorfalse"}],value:"single"},{type:"daterange",label:"创建日期",name:"createDate",value:[]},{type:"input",label:"",placeholder:"请输入题库名称",name:"searchValue",value:""}],pagination:{pageSize:20,currentPage:1,total:0}}},computed:{},watch:{},created:function(){this.fetchData()},mounted:function(){},methods:{getType:function(e){return["单选题","多选题","判断题"][e]},operate:function(e){this[e]()},create:function(){},refresh:function(){this.fetchData()},import:function(){},goTo:function(e){this.$router.push("/question-list-mgmt/list/".concat(e))},remove:function(e){},handleUpdateShowDrawer:function(e){this.curTabName="first",this.showDrawer=e},fetchData:function(){var e=this;this.listLoading=!0,Object(o["a"])().then((function(t){e.list=t.data.list,e.pagination.total=t.data.total,e.listLoading=!1}))}}},B=$,S=(n("0aae"),Object(d["a"])(B,i,a,!1,null,"516bab44",null));t["default"]=S.exports}}]);